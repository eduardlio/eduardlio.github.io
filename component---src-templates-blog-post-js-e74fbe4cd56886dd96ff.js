(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Bl7J:function(t,e,n){"use strict";var a=n("IRj2"),r=n("q1tI"),o=n.n(r),c=n("Wbzz"),i=n("qKvR"),u=function(t){return Object(i.a)("li",{style:{textDecoration:"none",display:"inline-block",marginRight:"0.3rem"}},Object(i.a)(c.Link,{to:t.to,style:{color:"white"}},t.children))},l=function(t){var e=t.siteTitle;return Object(i.a)("header",{style:{marginBottom:"1.45rem",background:"#DFAAD3"}},Object(i.a)("div",{style:{margin:"0 auto",maxWidth:960,padding:"5.45rem 1.0875rem"}},Object(i.a)("h1",null,Object(i.a)(c.Link,{to:"/",style:{color:"white",textDecoration:"none"}},e)),Object(i.a)("nav",null,Object(i.a)(u,{to:"/about"},"About"))))};l.defaultProps={siteTitle:""};var s=l;e.a=function(t){var e=t.children,n=a.data;return Object(i.a)(o.a.Fragment,null,Object(i.a)(s,{siteTitle:n.site.siteMetadata.title}),Object(i.a)("div",{style:{margin:"0 auto",maxWidth:960,padding:"0 1.0875rem 1.45rem"}},Object(i.a)("main",null,e),Object(i.a)("footer",null,"Â© ",(new Date).getFullYear(),", Built with"," ",Object(i.a)("a",{href:"https://www.gatsbyjs.org"},"Gatsby"))))}},IRj2:function(t){t.exports=JSON.parse('{"data":{"site":{"siteMetadata":{"title":"Ed\'s Blog"}}}}')},cXBx:function(t,e,n){},yZlL:function(t,e,n){"use strict";n.r(e),n.d(e,"query",(function(){return m}));n("HQhv");var a=n("q1tI"),r=n.n(a),o=n("Bl7J"),c=(n("q8oJ"),n("8npG"),n("YbXK"),n("cFtU"),n("rzGZ"),n("m210"),n("4DPX"),n("sC2a"),n("pJf4"),n("zGcK"),n("qKvR")),i=(n("E5k/"),function(t){var e={name:"",content:""},n=Object(a.useState)(e),r=n[0],o=n[1];return Object(c.a)("form",{onSubmit:function(n){n.preventDefault(),t.onSubmit(r).then((function(t){o(e)}))}},Object(c.a)("label",{htmlFor:"name"},"Name"),Object(c.a)("input",{id:"name",value:r.name,onChange:function(t){o(Object.assign({},r,{name:t.currentTarget.value}))},type:"text"}),Object(c.a)("label",{htmlFor:"content"},"Text"),Object(c.a)("input",{id:"content",value:r.content,onChange:function(t){o(Object.assign({},r,{content:t.currentTarget.value}))},type:"text"}),Object(c.a)("button",{disabled:0==r.name.length||0==r.content.length},"send"))});function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var s="http://localhost:5000/api",b=function(t){var e=t.slug,n=Object(a.useState)([]),o=n[0],l=n[1];Object(a.useEffect)((function(){fetch(s+"/comments"+e).then((function(t){return t.json()})).then((function(t){l(t.comments.sort((function(t,e){return t.updatedAt>e.updatedAt?1:-1})))}))}),[]);return Object(c.a)(r.a.Fragment,null,Object(c.a)("h2",null,"Comments:"),o.length>0?o.map((function(t){return Object(c.a)("div",{key:t.id,style:{display:"flex",flexDirection:"column",margin:"0.8rem auto"}},Object(c.a)("p",{style:{margin:0}},t.content),Object(c.a)("p",{style:{margin:0}},"by: ",t.name," at"," ",new Date(t.updatedAt).toLocaleString("en-AU")))})):Object(c.a)("p",null,"nothing here yet!"),Object(c.a)(i,{onSubmit:function(t){return fetch(s+"/comment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,content:t.content,slug:e.replace(/\//g,"")})}).then((function(t){return t.json()})).then((function(t){return l([].concat(u(o),[t.comment])),t}))}}))},m=(n("cXBx"),e.default=function(t){var e=t.data.markdownRemark,n=e.fields.slug.split("/post")[1];return Object(c.a)(o.a,null,Object(c.a)("div",{className:"blogpost"},Object(c.a)("h1",{style:{}},e.frontmatter.title),Object(c.a)("p",null,e.frontmatter.date),Object(c.a)("div",{dangerouslySetInnerHTML:{__html:e.html}})),Object(c.a)(b,{slug:n}))},"2862816425")}}]);
//# sourceMappingURL=component---src-templates-blog-post-js-e74fbe4cd56886dd96ff.js.map